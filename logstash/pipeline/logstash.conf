input {
  file {
    path => "/logs/*.log"  # Read logs from backend logs directory
    start_position => "beginning"
    sincedb_path => "/dev/null"  # Prevents Logstash from tracking file changes with a database
    codec => json  # Assuming your logs are in JSON format, adjust if needed
  }
}

filter {
  # Optional: Apply filtering or transformation if needed
}

output {
  elasticsearch {
    hosts => ["http://elasticsearch:9200"]
    index => "application-logs-%{+YYYY.MM.dd}"  # Dynamic index name based on the date
  }
  stdout {
    codec => rubydebug  # Optional: For debugging purposes
  }
}
